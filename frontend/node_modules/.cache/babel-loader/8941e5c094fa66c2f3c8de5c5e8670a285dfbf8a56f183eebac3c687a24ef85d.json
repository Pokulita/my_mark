{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{jwtDecode}from\"jwt-decode\";import CourseList from\"../components/CourseList\";import{Link}from\"react-router-dom\";import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Home(){const[userId,setuserId]=useState(null);const[userName,setuserName]=useState(null);useEffect(()=>{const token=localStorage.getItem(\"authToken\");if(token){// Decode the token and extract the username\nconst decodedToken=jwtDecode(token);setuserId(decodedToken.id);setuserName(decodedToken.username);// Assuming the username is stored in the token\n}else{setuserId(null);}},[]);return/*#__PURE__*/_jsx(\"div\",{children:userName?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",userName,\"!\"]}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"main-page-link\",children:\"Go to profile.\"}),/*#__PURE__*/_jsx(CourseList,{userId:userId})]}):/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, please\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"main-page-link\",children:\"Login\"})]})});}","map":{"version":3,"names":["React","useState","useEffect","jwtDecode","CourseList","Link","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Home","userId","setuserId","userName","setuserName","token","localStorage","getItem","decodedToken","id","username","children","to","className"],"sources":["D:/Uni/SideStudies/myProject/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { jwtDecode } from \"jwt-decode\";\r\n\r\nimport CourseList from \"../components/CourseList\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Home() {\r\n  const [userId, setuserId] = useState(null);\r\n  const [userName, setuserName] = useState(null);\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"authToken\");\r\n\r\n    if (token) {\r\n      // Decode the token and extract the username\r\n      const decodedToken = jwtDecode(token);\r\n      setuserId(decodedToken.id);\r\n      setuserName(decodedToken.username); // Assuming the username is stored in the token\r\n    } else {\r\n      setuserId(null);\r\n    }\r\n  }, []);\r\n  return (\r\n    <div>\r\n      {userName ? (\r\n        <>\r\n          <h2>Welcome, {userName}!</h2>\r\n          <Link to=\"/login\" className=\"main-page-link\">\r\n            Go to profile.\r\n          </Link>\r\n          <CourseList userId={userId} />\r\n        </>\r\n      ) : (\r\n        <h2>\r\n          Welcome, please{\" \"}\r\n          <Link to=\"/login\" className=\"main-page-link\">\r\n            Login\r\n          </Link>\r\n        </h2>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,YAAY,CAEtC,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,yBAExC,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAAG,CAC7B,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAC9CC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAE/C,GAAIF,KAAK,CAAE,CACT;AACA,KAAM,CAAAG,YAAY,CAAGjB,SAAS,CAACc,KAAK,CAAC,CACrCH,SAAS,CAACM,YAAY,CAACC,EAAE,CAAC,CAC1BL,WAAW,CAACI,YAAY,CAACE,QAAQ,CAAC,CAAE;AACtC,CAAC,IAAM,CACLR,SAAS,CAAC,IAAI,CAAC,CACjB,CACF,CAAC,CAAE,EAAE,CAAC,CACN,mBACEL,IAAA,QAAAc,QAAA,CACGR,QAAQ,cACPR,KAAA,CAAAI,SAAA,EAAAY,QAAA,eACEhB,KAAA,OAAAgB,QAAA,EAAI,WAAS,CAACR,QAAQ,CAAC,GAAC,EAAI,CAAC,cAC7BN,IAAA,CAACJ,IAAI,EAACmB,EAAE,CAAC,QAAQ,CAACC,SAAS,CAAC,gBAAgB,CAAAF,QAAA,CAAC,gBAE7C,CAAM,CAAC,cACPd,IAAA,CAACL,UAAU,EAACS,MAAM,CAAEA,MAAO,CAAE,CAAC,EAC9B,CAAC,cAEHN,KAAA,OAAAgB,QAAA,EAAI,iBACa,CAAC,GAAG,cACnBd,IAAA,CAACJ,IAAI,EAACmB,EAAE,CAAC,QAAQ,CAACC,SAAS,CAAC,gBAAgB,CAAAF,QAAA,CAAC,OAE7C,CAAM,CAAC,EACL,CACL,CACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}