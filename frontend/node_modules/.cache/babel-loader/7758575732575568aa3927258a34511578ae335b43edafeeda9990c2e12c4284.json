{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const navigate=useNavigate();// Step 1: Initialize state to store user inputs\nconst[formData,setFormData]=useState({username:\"\",email:\"\",password:\"\",confirmPassword:\"\"});const[errors,setErrors]=useState({username:\"\",email:\"\",password:\"\",confirmPassword:\"\",form:\"\"});// Step 2: Handle form input changes\nconst handleInputChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};// Step 3: Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();// Reset errors\nsetErrors({username:\"\",email:\"\",password:\"\",confirmPassword:\"\",form:\"\"});// Send the data to your backend API (e.g., using fetch or axios)\nconst userData={username:formData.username,email:formData.email,password:formData.password};try{const response=await fetch(\"http://localhost:5000/register\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(userData)});const data=await response.json();if(response.ok){// Registration successful\nalert(\"Registration successful!\");navigate(\"/login\");}else{// Handle backend error (e.g., email already exists)\nsetErrors({...errors,form:data.message||\"Registration failed!\"});alert(`Registration failed: ${data.message}`);}}catch(error){console.error(\"Error:\",error);setErrors({...errors,form:\"Error during registration\"});alert(\"Error during registration\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-container\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"login-email\",type:\"text\",name:\"username\",placeholder:\"Username\",value:formData.username,onChange:handleInputChange,required:true}),errors.username&&/*#__PURE__*/_jsx(\"span\",{children:errors.username})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"login-email\",type:\"email\",name:\"email\",placeholder:\"Email\",value:formData.email,onChange:handleInputChange,required:true}),errors.email&&/*#__PURE__*/_jsx(\"span\",{children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"login-email\",type:\"password\",name:\"password\",placeholder:\"Password\",value:formData.password,onChange:handleInputChange,required:true}),errors.password&&/*#__PURE__*/_jsx(\"span\",{children:errors.password})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"login-email\",type:\"password\",name:\"confirmPassword\",placeholder:\"Confirm Password\",value:formData.confirmPassword,onChange:handleInputChange,required:true}),errors.confirmPassword&&/*#__PURE__*/_jsx(\"span\",{children:errors.confirmPassword})]}),/*#__PURE__*/_jsx(\"button\",{classname:\"login-button\",type:\"submit\",children:\"Register\"}),errors.form&&/*#__PURE__*/_jsx(\"p\",{children:errors.form})]})]});}export default Register;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","navigate","formData","setFormData","username","email","password","confirmPassword","errors","setErrors","form","handleInputChange","e","name","value","target","handleSubmit","preventDefault","userData","response","fetch","method","headers","body","JSON","stringify","data","json","ok","alert","message","error","console","children","onSubmit","className","type","placeholder","onChange","required","classname"],"sources":["D:/Uni/SideStudies/myProject/frontend/src/pages/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Register() {\r\n  const navigate = useNavigate();\r\n  // Step 1: Initialize state to store user inputs\r\n  const [formData, setFormData] = useState({\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n  });\r\n\r\n  const [errors, setErrors] = useState({\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    form: \"\",\r\n  });\r\n\r\n  // Step 2: Handle form input changes\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  // Step 3: Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Reset errors\r\n    setErrors({\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n      form: \"\",\r\n    });\r\n\r\n    // Send the data to your backend API (e.g., using fetch or axios)\r\n    const userData = {\r\n      username: formData.username,\r\n      email: formData.email,\r\n      password: formData.password,\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/register\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(userData),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        // Registration successful\r\n        alert(\"Registration successful!\");\r\n        navigate(\"/login\");\r\n      } else {\r\n        // Handle backend error (e.g., email already exists)\r\n        setErrors({ ...errors, form: data.message || \"Registration failed!\" });\r\n        alert(`Registration failed: ${data.message}`);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n      setErrors({ ...errors, form: \"Error during registration\" });\r\n      alert(\"Error during registration\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Register</h2>\r\n      <form onSubmit={handleSubmit} className=\"login-container\">\r\n        <div>\r\n          <input\r\n            className=\"login-email\"\r\n            type=\"text\"\r\n            name=\"username\"\r\n            placeholder=\"Username\"\r\n            value={formData.username}\r\n            onChange={handleInputChange}\r\n            required\r\n          />\r\n          {errors.username && <span>{errors.username}</span>}\r\n        </div>\r\n\r\n        <div>\r\n          <input\r\n            className=\"login-email\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            value={formData.email}\r\n            onChange={handleInputChange}\r\n            required\r\n          />\r\n          {errors.email && <span>{errors.email}</span>}\r\n        </div>\r\n\r\n        <div>\r\n          <input\r\n            className=\"login-email\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            value={formData.password}\r\n            onChange={handleInputChange}\r\n            required\r\n          />\r\n          {errors.password && <span>{errors.password}</span>}\r\n        </div>\r\n\r\n        <div>\r\n          <input\r\n            className=\"login-email\"\r\n            type=\"password\"\r\n            name=\"confirmPassword\"\r\n            placeholder=\"Confirm Password\"\r\n            value={formData.confirmPassword}\r\n            onChange={handleInputChange}\r\n            required\r\n          />\r\n          {errors.confirmPassword && <span>{errors.confirmPassword}</span>}\r\n        </div>\r\n\r\n        <button classname=\"login-button\" type=\"submit\">\r\n          Register\r\n        </button>\r\n\r\n        {errors.form && <p>{errors.form}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}